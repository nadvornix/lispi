<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Lisp: datetypes.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>datetypes.cpp</h1><a href="datetypes_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00003"></a>00003 <span class="preprocessor">#include &lt;cstdio&gt;</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;sstream&gt;</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;<a class="code" href="datetypes_8h.html">datetypes.h</a>&quot;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="enviroment_8h.html">enviroment.h</a>&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="exceptions_8h.html">exceptions.h</a>&quot;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="keyword">using namespace </span>std;
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="comment">// **************************     Elem      **************************</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="comment">//...</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="comment">// **************************     LInt      **************************</span>
<a name="l00018"></a>00018 
<a name="l00019"></a><a class="code" href="classLInt.html#a176ca37df3a4ac50523cee655062db11">00019</a> <span class="keywordtype">string</span> <a class="code" href="classLInt.html#a176ca37df3a4ac50523cee655062db11">LInt::printable</a>() {
<a name="l00020"></a>00020     <span class="keywordtype">char</span> buffer[20];
<a name="l00021"></a>00021     sprintf(buffer, <span class="stringliteral">&quot;%d&quot;</span>, this-&gt;<a class="code" href="classLInt.html#ac4ed4d564e57afdd6cae4d75b0f90c31" title="Vnitřní reprezentace.">repr</a>);
<a name="l00022"></a>00022     <span class="keywordflow">return</span> buffer;
<a name="l00023"></a>00023 }
<a name="l00024"></a>00024 
<a name="l00025"></a><a class="code" href="classLInt.html#a974f716ff331356091d57aa46f954aa8">00025</a> <span class="keywordtype">string</span> <a class="code" href="classLInt.html#a974f716ff331356091d57aa46f954aa8">LInt::whois</a>() {
<a name="l00026"></a>00026     <span class="keywordflow">return</span> <span class="stringliteral">&quot;int&quot;</span>;
<a name="l00027"></a>00027 }
<a name="l00028"></a>00028 
<a name="l00029"></a><a class="code" href="classLInt.html#a283b76bf853b3ad9260f5845d129fa3d">00029</a> <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a>* <a class="code" href="classLInt.html#a283b76bf853b3ad9260f5845d129fa3d" title="Vrátí kopii objektu.">LInt::copy</a>() {
<a name="l00030"></a>00030     <a class="code" href="classLInt.html" title="Celočíselný datový typ.">LInt</a> * newone = <span class="keyword">new</span> <a class="code" href="classLInt.html" title="Celočíselný datový typ.">LInt</a>;
<a name="l00031"></a>00031 
<a name="l00032"></a>00032     newone-&gt;<a class="code" href="classLInt.html#ac4ed4d564e57afdd6cae4d75b0f90c31" title="Vnitřní reprezentace.">repr</a> = this-&gt;<a class="code" href="classLInt.html#ac4ed4d564e57afdd6cae4d75b0f90c31" title="Vnitřní reprezentace.">repr</a>;
<a name="l00033"></a>00033 
<a name="l00034"></a>00034     <span class="keywordflow">return</span> newone;
<a name="l00035"></a>00035 }
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="classLInt.html#afab08c4e71578361d3a321197073ae7e">00037</a> <a class="code" href="classLInt.html#a3daf90178354635ddf9feeec418bc618">LInt::LInt</a>(<span class="keywordtype">string</span> &amp; tokRepr) {
<a name="l00038"></a>00038 
<a name="l00039"></a>00039     istringstream is(tokRepr);
<a name="l00040"></a>00040     is &gt;&gt; this-&gt;<a class="code" href="classLInt.html#ac4ed4d564e57afdd6cae4d75b0f90c31" title="Vnitřní reprezentace.">repr</a>;
<a name="l00041"></a>00041 }
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="comment">// **************************     LSymbol      **************************</span>
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="classLSymbol.html#a2dfd87be9c0d773214ed8ad4741c637d">00046</a> <span class="keywordtype">string</span> <a class="code" href="classLSymbol.html#a2dfd87be9c0d773214ed8ad4741c637d">LSymbol::printable</a>() {
<a name="l00047"></a>00047     <span class="comment">//    string str = &quot;Symbol: &quot;;</span>
<a name="l00048"></a>00048     <span class="comment">//    str.append(this-&gt;name);</span>
<a name="l00049"></a>00049     <span class="comment">//    return str;</span>
<a name="l00050"></a>00050     <span class="keywordflow">return</span> this-&gt;<a class="code" href="classLSymbol.html#a5ccf8649d3d196db4fc61f8c86809d4d" title="název symbolu (obsah je definován v Enviroment-&amp;gt;symbols)">name</a>;
<a name="l00051"></a>00051 }
<a name="l00052"></a>00052 
<a name="l00053"></a><a class="code" href="classLSymbol.html#aca9e5a945a0413f341316f318820240a">00053</a> <span class="keywordtype">string</span> <a class="code" href="classLSymbol.html#aca9e5a945a0413f341316f318820240a">LSymbol::whois</a>() {
<a name="l00054"></a>00054     <span class="keywordflow">return</span> <span class="stringliteral">&quot;symbol&quot;</span>;
<a name="l00055"></a>00055 }
<a name="l00056"></a>00056 
<a name="l00057"></a><a class="code" href="classLSymbol.html#a3daf3032b78ea6a7086415d00b1700b7">00057</a> <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a>* <a class="code" href="classLSymbol.html#a3daf3032b78ea6a7086415d00b1700b7" title="Vrátí kopii objektu.">LSymbol::copy</a>() {
<a name="l00058"></a>00058     <a class="code" href="classLSymbol.html" title="Třída pro symboly (názvy proměnných a funkcí).">LSymbol</a> * newone = <span class="keyword">new</span> <a class="code" href="classLSymbol.html" title="Třída pro symboly (názvy proměnných a funkcí).">LSymbol</a>;
<a name="l00059"></a>00059 
<a name="l00060"></a>00060     newone-&gt;<a class="code" href="classLSymbol.html#a5ccf8649d3d196db4fc61f8c86809d4d" title="název symbolu (obsah je definován v Enviroment-&amp;gt;symbols)">name</a> = this-&gt;<a class="code" href="classLSymbol.html#a5ccf8649d3d196db4fc61f8c86809d4d" title="název symbolu (obsah je definován v Enviroment-&amp;gt;symbols)">name</a>;
<a name="l00061"></a>00061 
<a name="l00062"></a>00062     <span class="keywordflow">return</span> newone;
<a name="l00063"></a>00063 }
<a name="l00064"></a>00064 
<a name="l00065"></a><a class="code" href="classLSymbol.html#aeff9af6e912888692d553a0bb863d39c">00065</a> <a class="code" href="classLSymbol.html#aebaa1f3d6e4640b602d53efe90e4ad49">LSymbol::LSymbol</a>(<span class="keywordtype">string</span> &amp; tokRepr) {
<a name="l00066"></a>00066     this-&gt;<a class="code" href="classLSymbol.html#a5ccf8649d3d196db4fc61f8c86809d4d" title="název symbolu (obsah je definován v Enviroment-&amp;gt;symbols)">name</a> = tokRepr;
<a name="l00067"></a>00067 }
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="comment">// **************************     LList      **************************</span>
<a name="l00071"></a>00071 
<a name="l00072"></a><a class="code" href="classLList.html#a2f4f9304ad86e2a83310604503eac498">00072</a> <a class="code" href="classLList.html#a677cea778753c98132827a6266ce622a">LList::LList</a>(<a class="code" href="classLList.html" title="Seznam - linked list.">LList</a>&amp; r) {
<a name="l00073"></a>00073     <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * tmp = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classLList.html" title="Seznam - linked list.">LList</a>*<span class="keyword">&gt;</span> (r.<a class="code" href="classLList.html#a8e3ed6f2bcc1677465e1502a5080777d" title="Vrátí kopii objektu.">copy</a>());
<a name="l00074"></a>00074     this-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a> = tmp-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a>;
<a name="l00075"></a>00075     this-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a> = tmp-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a>;
<a name="l00076"></a>00076 }
<a name="l00077"></a>00077 
<a name="l00078"></a><a class="code" href="classLList.html#a8e3ed6f2bcc1677465e1502a5080777d">00078</a> <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * <a class="code" href="classLList.html#a8e3ed6f2bcc1677465e1502a5080777d" title="Vrátí kopii objektu.">LList::copy</a>() {
<a name="l00079"></a>00079     <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * newone = <span class="keyword">new</span> <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a>;
<a name="l00080"></a>00080 
<a name="l00081"></a>00081     <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a>) {
<a name="l00082"></a>00082         newone-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a> = this-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a>-&gt;<a class="code" href="classElem.html#a807c4e211a1c88a9b753e8965af91ace" title="Vrátí kopii objektu.">copy</a>();
<a name="l00083"></a>00083     } <span class="keywordflow">else</span> {
<a name="l00084"></a>00084         newone-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a> = NULL;
<a name="l00085"></a>00085     }
<a name="l00086"></a>00086 
<a name="l00087"></a>00087     <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a>) {
<a name="l00088"></a>00088         newone-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classLList.html" title="Seznam - linked list.">LList</a>*<span class="keyword">&gt;</span> (this-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a>-&gt;<a class="code" href="classLList.html#a8e3ed6f2bcc1677465e1502a5080777d" title="Vrátí kopii objektu.">copy</a>());
<a name="l00089"></a>00089     } <span class="keywordflow">else</span> {
<a name="l00090"></a>00090         newone-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a> = NULL;
<a name="l00091"></a>00091     }
<a name="l00092"></a>00092     <span class="keywordflow">return</span> newone;
<a name="l00093"></a>00093 }
<a name="l00094"></a>00094 
<a name="l00095"></a><a class="code" href="classLList.html#a77dea9f7bb3a9d566a11c94d6ea69965">00095</a> <span class="keywordtype">string</span> <a class="code" href="classLList.html#a77dea9f7bb3a9d566a11c94d6ea69965">LList::printable</a>() {
<a name="l00096"></a>00096     <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * elem = <span class="keyword">this</span>;
<a name="l00097"></a>00097     <span class="keywordtype">string</span> s;
<a name="l00098"></a>00098     s.append(<span class="stringliteral">&quot;(&quot;</span>);
<a name="l00099"></a>00099     <span class="keywordflow">while</span> (elem) {
<a name="l00100"></a>00100         <span class="keywordflow">if</span> (elem-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a>) {
<a name="l00101"></a>00101             s.append(elem-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a>-&gt;<a class="code" href="classElem.html#a693e03c8d35fc03845954424a0dbcc82">printable</a>());
<a name="l00102"></a>00102             <span class="keywordflow">if</span> (elem-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a>) {
<a name="l00103"></a>00103                 s.append(<span class="stringliteral">&quot; &quot;</span>);
<a name="l00104"></a>00104             }
<a name="l00105"></a>00105         }
<a name="l00106"></a>00106 
<a name="l00107"></a>00107         elem = elem-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a>;
<a name="l00108"></a>00108 
<a name="l00109"></a>00109     }
<a name="l00110"></a>00110     s.append(<span class="stringliteral">&quot;)&quot;</span>);
<a name="l00111"></a>00111 
<a name="l00112"></a>00112     <span class="keywordflow">return</span> s;
<a name="l00113"></a>00113 }
<a name="l00114"></a>00114 
<a name="l00115"></a><a class="code" href="classLList.html#a66e544d89626e397e64c85f786b7b89b">00115</a> <span class="keywordtype">string</span> <a class="code" href="classLList.html#a66e544d89626e397e64c85f786b7b89b">LList::whois</a>() {
<a name="l00116"></a>00116     <span class="keywordflow">return</span> <span class="stringliteral">&quot;list&quot;</span>;
<a name="l00117"></a>00117 }
<a name="l00118"></a>00118 
<a name="l00119"></a><a class="code" href="classLList.html#afce04606d00dce0eb15302805d85ecc8">00119</a> <span class="keywordtype">void</span> <a class="code" href="classLList.html#afce04606d00dce0eb15302805d85ecc8">LList::add</a>(<a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * e) {
<a name="l00120"></a>00120     <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * <a class="code" href="classLList.html#a3b894eceab1030076df048092cb4eee9" title="vrátí ukazatel na poslední prvek seznamu">last</a> = this-&gt;<a class="code" href="classLList.html#a3b894eceab1030076df048092cb4eee9" title="vrátí ukazatel na poslední prvek seznamu">last</a>();
<a name="l00121"></a>00121 
<a name="l00122"></a>00122     <span class="keywordflow">if</span> (last) {
<a name="l00123"></a>00123         <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * node = <span class="keyword">new</span> <a class="code" href="classLList.html#a677cea778753c98132827a6266ce622a">LList</a>();
<a name="l00124"></a>00124 
<a name="l00125"></a>00125         node-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a> = e;
<a name="l00126"></a>00126         node-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a> = NULL;
<a name="l00127"></a>00127         last-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a> = node;
<a name="l00128"></a>00128     } <span class="keywordflow">else</span> {
<a name="l00129"></a>00129         this-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a> = e;
<a name="l00130"></a>00130     }
<a name="l00131"></a>00131 }
<a name="l00132"></a>00132 
<a name="l00133"></a><a class="code" href="classLList.html#a281b13e061f48af488551a41ec5f010e">00133</a> <span class="keywordtype">int</span> <a class="code" href="classLList.html#a281b13e061f48af488551a41ec5f010e" title="vrátí délku seznamu">LList::len</a>() {
<a name="l00134"></a>00134     <span class="keywordtype">int</span> <a class="code" href="classLList.html#a281b13e061f48af488551a41ec5f010e" title="vrátí délku seznamu">len</a> = 0;
<a name="l00135"></a>00135     <span class="keywordflow">if</span> (!<span class="keyword">this</span>)
<a name="l00136"></a>00136         <span class="keywordflow">return</span> 0;
<a name="l00137"></a>00137     
<a name="l00138"></a>00138     <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a> == NULL)
<a name="l00139"></a>00139         <span class="keywordflow">return</span> 0;
<a name="l00140"></a>00140     
<a name="l00141"></a>00141     <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * elem = <span class="keyword">this</span>;
<a name="l00142"></a>00142     <span class="keywordflow">while</span> (elem) {
<a name="l00143"></a>00143         len++;
<a name="l00144"></a>00144         elem = elem-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a>;
<a name="l00145"></a>00145     }
<a name="l00146"></a>00146     <span class="keywordflow">return</span> len;
<a name="l00147"></a>00147 }
<a name="l00148"></a>00148 
<a name="l00149"></a><a class="code" href="classLList.html#a3b894eceab1030076df048092cb4eee9">00149</a> <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * <a class="code" href="classLList.html#a3b894eceab1030076df048092cb4eee9" title="vrátí ukazatel na poslední prvek seznamu">LList::last</a>() {
<a name="l00150"></a>00150     <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a> == NULL) {
<a name="l00151"></a>00151         <span class="keywordflow">return</span> NULL; <span class="comment">//tenhle je posledni</span>
<a name="l00152"></a>00152     }
<a name="l00153"></a>00153 
<a name="l00154"></a>00154     <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * <a class="code" href="classLList.html#a3b894eceab1030076df048092cb4eee9" title="vrátí ukazatel na poslední prvek seznamu">last</a> = <span class="keyword">this</span>;
<a name="l00155"></a>00155 
<a name="l00156"></a>00156     <span class="keywordflow">while</span> (last-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a>) {
<a name="l00157"></a>00157         last = last-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a>;
<a name="l00158"></a>00158     }
<a name="l00159"></a>00159 
<a name="l00160"></a>00160     <span class="keywordflow">return</span> last;
<a name="l00161"></a>00161 }
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 <span class="comment">// **************************     LString      **************************</span>
<a name="l00165"></a>00165 
<a name="l00166"></a><a class="code" href="classLString.html#aaf8538af6ce4ddbe0d0b67ce01a5a2b8">00166</a> <span class="keywordtype">string</span> <a class="code" href="classLString.html#aaf8538af6ce4ddbe0d0b67ce01a5a2b8">LString::printable</a>() {
<a name="l00167"></a>00167     <span class="keywordtype">string</span> s;
<a name="l00168"></a>00168     <span class="comment">//    s.push_back(&#39;&quot;&#39;);</span>
<a name="l00169"></a>00169     s.append(this-&gt;<a class="code" href="classLString.html#a16845c1f2094a67d4915c0d624118e7e" title="vnitřní reprezentace řetezce">repr</a>);
<a name="l00170"></a>00170     <span class="comment">//    s.push_back(&#39;&quot;&#39;);</span>
<a name="l00171"></a>00171     <span class="keywordflow">return</span> s;
<a name="l00172"></a>00172 }
<a name="l00173"></a>00173 
<a name="l00174"></a><a class="code" href="classLString.html#a42ef685886598a09986b86f352b4a729">00174</a> <span class="keywordtype">string</span> <a class="code" href="classLString.html#a42ef685886598a09986b86f352b4a729">LString::whois</a>() {
<a name="l00175"></a>00175     <span class="keywordflow">return</span> <span class="stringliteral">&quot;string&quot;</span>;
<a name="l00176"></a>00176 }
<a name="l00177"></a>00177 
<a name="l00178"></a><a class="code" href="classLString.html#a800eb863a76c77239668310fc293319d">00178</a> <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a>* <a class="code" href="classLString.html#a800eb863a76c77239668310fc293319d" title="Vrátí kopii objektu.">LString::copy</a>() {
<a name="l00179"></a>00179     <a class="code" href="classLString.html" title="Datový typ pro řetězce.">LString</a> * newone = <span class="keyword">new</span> <a class="code" href="classLString.html" title="Datový typ pro řetězce.">LString</a>;
<a name="l00180"></a>00180 
<a name="l00181"></a>00181     newone-&gt;<a class="code" href="classLString.html#a16845c1f2094a67d4915c0d624118e7e" title="vnitřní reprezentace řetezce">repr</a> = this-&gt;<a class="code" href="classLString.html#a16845c1f2094a67d4915c0d624118e7e" title="vnitřní reprezentace řetezce">repr</a>;
<a name="l00182"></a>00182 
<a name="l00183"></a>00183     <span class="keywordflow">return</span> newone;
<a name="l00184"></a>00184 }
<a name="l00185"></a>00185 
<a name="l00186"></a><a class="code" href="classLString.html#ab047ad6b4ae115e33a1de6d130e7072f">00186</a> <a class="code" href="classLString.html#a5c850380aa96355a5f9d554b0d1deb69">LString::LString</a>(<span class="keywordtype">string</span> &amp; tokRepr) {
<a name="l00187"></a>00187     this-&gt;<a class="code" href="classLString.html#a16845c1f2094a67d4915c0d624118e7e" title="vnitřní reprezentace řetezce">repr</a> = tokRepr;
<a name="l00188"></a>00188 }
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 <span class="comment">// **************************     LFunctionC      **************************</span>
<a name="l00191"></a>00191 <span class="comment">//LFunction::LFunction(Elem * (*funct)(Elem *)){</span>
<a name="l00192"></a>00192 <span class="comment">//    this-&gt;funct = funct;</span>
<a name="l00193"></a>00193 <span class="comment">//}</span>
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="classLFunctionC.html#a8785f95959d9045b8f07d2c63a2c6037">00195</a> <span class="keywordtype">string</span> <a class="code" href="classLFunctionC.html#a8785f95959d9045b8f07d2c63a2c6037">LFunctionC::printable</a>() {
<a name="l00196"></a>00196     <span class="keywordtype">string</span> s;
<a name="l00197"></a>00197     s.append(<span class="stringliteral">&quot;Funct C&quot;</span>);
<a name="l00198"></a>00198     <span class="comment">//    s.append(this-&gt;repr);</span>
<a name="l00199"></a>00199     <span class="comment">//    s.push_back(&#39;&#39;);</span>
<a name="l00200"></a>00200     <span class="keywordflow">return</span> s;
<a name="l00201"></a>00201 }
<a name="l00202"></a>00202 
<a name="l00203"></a><a class="code" href="classLFunctionC.html#a104f02a76840ae96b226c5316347a97f">00203</a> <span class="keywordtype">string</span> <a class="code" href="classLFunctionC.html#a104f02a76840ae96b226c5316347a97f">LFunctionC::whois</a>() {
<a name="l00204"></a>00204     <span class="keywordflow">return</span> <span class="stringliteral">&quot;functionC&quot;</span>;
<a name="l00205"></a>00205 }
<a name="l00206"></a>00206 
<a name="l00207"></a><a class="code" href="classLFunctionC.html#a2a79e4acc01a29f76763dbd9f9af4463">00207</a> <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a>* <a class="code" href="classLFunctionC.html#a2a79e4acc01a29f76763dbd9f9af4463" title="Vrátí kopii objektu.">LFunctionC::copy</a>() {
<a name="l00208"></a>00208     <a class="code" href="classLFunctionC.html" title="Primitivní funkce (v C).">LFunctionC</a> * newone = <span class="keyword">new</span> <a class="code" href="classLFunctionC.html#ae8bf1cf4ead4bd18cf16f07ea436464c">LFunctionC</a>(*<span class="keyword">this</span>);
<a name="l00209"></a>00209 
<a name="l00210"></a>00210     <span class="keywordflow">return</span> newone;
<a name="l00211"></a>00211 }
<a name="l00212"></a>00212 
<a name="l00213"></a><a class="code" href="classLFunctionC.html#a0f5b65061b51c67db9a516f96fc42b30">00213</a> <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * <a class="code" href="classLFunctionC.html#a0f5b65061b51c67db9a516f96fc42b30">LFunctionC::call</a>(<a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * params, <a class="code" href="classEnviroment.html" title="Enviroment - prostředí ve kterém se provádí kód.">Enviroment</a> * env) {
<a name="l00214"></a>00214 
<a name="l00215"></a>00215     <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * returnValue = this-&gt;<a class="code" href="classLFunctionC.html#a93dfa8be56411080b96a35e2bb694d27" title="Ukazatel na funkci v C (všecky mají stejné c-API).">funct</a>(params, env);
<a name="l00216"></a>00216 
<a name="l00217"></a>00217     <span class="keywordflow">return</span> returnValue;
<a name="l00218"></a>00218 }
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 <span class="comment">// **************************     LFunctionL      **************************</span>
<a name="l00221"></a>00221 
<a name="l00222"></a><a class="code" href="classLFunctionL.html#a0cfdd33587e673b2ff66b34372fa711e">00222</a> <span class="keywordtype">string</span> <a class="code" href="classLFunctionL.html#a0cfdd33587e673b2ff66b34372fa711e">LFunctionL::printable</a>() {
<a name="l00223"></a>00223     <span class="keywordtype">string</span> s;
<a name="l00224"></a>00224     s.append(<span class="stringliteral">&quot;Funct L&quot;</span>);
<a name="l00225"></a>00225     <span class="keywordflow">return</span> s;
<a name="l00226"></a>00226 }
<a name="l00227"></a>00227 
<a name="l00228"></a><a class="code" href="classLFunctionL.html#aaf5eb51f58fe53d76fdbfbfc1648ecf0">00228</a> <span class="keywordtype">string</span> <a class="code" href="classLFunctionL.html#aaf5eb51f58fe53d76fdbfbfc1648ecf0">LFunctionL::whois</a>() {
<a name="l00229"></a>00229     <span class="keywordflow">return</span> <span class="stringliteral">&quot;functionL&quot;</span>;
<a name="l00230"></a>00230 }
<a name="l00231"></a>00231 
<a name="l00232"></a><a class="code" href="classLFunctionL.html#ad9b53e16ab05f092d0ea8f8500087a03">00232</a> <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a>* <a class="code" href="classLFunctionL.html#ad9b53e16ab05f092d0ea8f8500087a03" title="Vrátí kopii objektu.">LFunctionL::copy</a>() {
<a name="l00233"></a>00233     <a class="code" href="classLFunctionL.html" title="Lispovská funkce.">LFunctionL</a> * newone = <span class="keyword">new</span> <a class="code" href="classLFunctionL.html" title="Lispovská funkce.">LFunctionL</a>;
<a name="l00234"></a>00234 
<a name="l00235"></a>00235     newone-&gt;<a class="code" href="classLFunctionL.html#a99132011663557011cb8adca11970353" title="seznam reprezentující tělo funkce">funct</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classLList.html" title="Seznam - linked list.">LList</a>*<span class="keyword">&gt;</span> (this-&gt;<a class="code" href="classLFunctionL.html#a99132011663557011cb8adca11970353" title="seznam reprezentující tělo funkce">funct</a>-&gt;<a class="code" href="classLList.html#a8e3ed6f2bcc1677465e1502a5080777d" title="Vrátí kopii objektu.">copy</a>());
<a name="l00236"></a>00236     newone-&gt;<a class="code" href="classLFunctionL.html#a1a6548c274205954ad26f4dc4eaf6722" title="seznam parametrů">params</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classLList.html" title="Seznam - linked list.">LList</a>*<span class="keyword">&gt;</span> (this-&gt;<a class="code" href="classLFunctionL.html#a1a6548c274205954ad26f4dc4eaf6722" title="seznam parametrů">params</a>-&gt;<a class="code" href="classLList.html#a8e3ed6f2bcc1677465e1502a5080777d" title="Vrátí kopii objektu.">copy</a>());
<a name="l00237"></a>00237 
<a name="l00238"></a>00238     <span class="keywordflow">return</span> newone;
<a name="l00239"></a>00239 }
<a name="l00240"></a>00240 
<a name="l00241"></a><a class="code" href="classLFunctionL.html#a4f0f997f3979c891011fd0052a01c98c">00241</a> <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * <a class="code" href="classLFunctionL.html#a4f0f997f3979c891011fd0052a01c98c">LFunctionL::call</a>(<a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * params, <a class="code" href="classEnviroment.html" title="Enviroment - prostředí ve kterém se provádí kód.">Enviroment</a> * env) {
<a name="l00242"></a>00242     <span class="comment">//    cout &lt;&lt; &quot;call given:&quot; &lt;&lt; params-&gt;len() &lt;&lt; &quot; declared: &quot; &lt;&lt; this-&gt;params-&gt;len() &lt;&lt; endl;</span>
<a name="l00243"></a>00243     <span class="keywordflow">if</span> (params-&gt;<a class="code" href="classLList.html#a281b13e061f48af488551a41ec5f010e" title="vrátí délku seznamu">len</a>() != this-&gt;params-&gt;<a class="code" href="classLList.html#a281b13e061f48af488551a41ec5f010e" title="vrátí délku seznamu">len</a>()) {
<a name="l00244"></a>00244         <a class="code" href="classTypeException.html" title="vyjímka pro špatně použité datové typy (počet a typ parametrů primitivních...">TypeException</a> e;
<a name="l00245"></a>00245         e.<a class="code" href="classBaseException.html#ac970c7f195710ce512a2b05da04bc01a" title="Informace pro chybovou hlášku.">desc</a> = <a class="code" href="exceptions_8cpp.html#ac1bbbde46f1f9525fe56fcea6221c8ef">strformat</a>(<span class="stringliteral">&quot;Bad number of parameters. %d taken (%d given)&quot;</span>, this-&gt;params-&gt;<a class="code" href="classLList.html#a281b13e061f48af488551a41ec5f010e" title="vrátí délku seznamu">len</a>(), params-&gt;<a class="code" href="classLList.html#a281b13e061f48af488551a41ec5f010e" title="vrátí délku seznamu">len</a>());
<a name="l00246"></a>00246         <span class="keywordflow">throw</span> e;
<a name="l00247"></a>00247     }
<a name="l00248"></a>00248 
<a name="l00249"></a>00249     <a class="code" href="classEnviroment.html" title="Enviroment - prostředí ve kterém se provádí kód.">Enviroment</a> newEnv(*env); <span class="comment">//volaní funkce probíhá v odděleném enviromentu</span>
<a name="l00250"></a>00250 
<a name="l00251"></a>00251     <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * DeclaredParam = this-&gt;params;
<a name="l00252"></a>00252     <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * GivenParam = params;
<a name="l00253"></a>00253 
<a name="l00254"></a>00254     <span class="keywordflow">while</span> (DeclaredParam) { <span class="comment">//dosazení skutečných parametrů za deklarované</span>
<a name="l00255"></a>00255         <a class="code" href="classLSymbol.html" title="Třída pro symboly (názvy proměnných a funkcí).">LSymbol</a> * p = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classLSymbol.html" title="Třída pro symboly (názvy proměnných a funkcí).">LSymbol</a>*<span class="keyword">&gt;</span> (DeclaredParam-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a>);
<a name="l00256"></a>00256         newEnv.<a class="code" href="classEnviroment.html#a631bda8576bb09df76103b14fd1971e0" title="definuje symbol (proměnou)">define</a>(p-&gt;<a class="code" href="classLSymbol.html#a5ccf8649d3d196db4fc61f8c86809d4d" title="název symbolu (obsah je definován v Enviroment-&amp;gt;symbols)">name</a>, GivenParam-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a>);
<a name="l00257"></a>00257 
<a name="l00258"></a>00258         DeclaredParam = DeclaredParam-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a>;
<a name="l00259"></a>00259         GivenParam = GivenParam-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a>;
<a name="l00260"></a>00260     }
<a name="l00261"></a>00261     <span class="keywordflow">return</span> newEnv.<a class="code" href="classEnviroment.html#a97ec775af7153a1da74447ec95569052">progn</a>(<a class="code" href="classLFunctionL.html#a99132011663557011cb8adca11970353" title="seznam reprezentující tělo funkce">funct</a>);
<a name="l00262"></a>00262 }
<a name="l00263"></a>00263 
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 <span class="comment">// **************************     LFunctionM      **************************</span>
<a name="l00266"></a>00266 
<a name="l00267"></a><a class="code" href="classLFunctionM.html#a95fe6bfce65c2bdb86b383453b8b9bb4">00267</a> <span class="keywordtype">string</span> <a class="code" href="classLFunctionM.html#a95fe6bfce65c2bdb86b383453b8b9bb4">LFunctionM::printable</a>() {
<a name="l00268"></a>00268     <span class="keywordtype">string</span> s;
<a name="l00269"></a>00269     s.append(<span class="stringliteral">&quot;Macro: &quot;</span>);
<a name="l00270"></a>00270     s.append(this-&gt;<a class="code" href="classLFunctionM.html#aa6113fbebc9872bc595f418d87a7a40b" title="tělo makra">funct</a>-&gt;<a class="code" href="classLList.html#a77dea9f7bb3a9d566a11c94d6ea69965">printable</a>());
<a name="l00271"></a>00271     <span class="keywordflow">return</span> s;
<a name="l00272"></a>00272 }
<a name="l00273"></a>00273 
<a name="l00274"></a><a class="code" href="classLFunctionM.html#aee0a8442d05ef38c0c057dda437dc038">00274</a> <span class="keywordtype">string</span> <a class="code" href="classLFunctionM.html#aee0a8442d05ef38c0c057dda437dc038">LFunctionM::whois</a>() {
<a name="l00275"></a>00275     <span class="keywordflow">return</span> <span class="stringliteral">&quot;LFunctionM&quot;</span>;
<a name="l00276"></a>00276 }
<a name="l00277"></a>00277 
<a name="l00278"></a><a class="code" href="classLFunctionM.html#af1acc4b43d980ac1bd0c455b5f2ca654">00278</a> <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a>* <a class="code" href="classLFunctionM.html#af1acc4b43d980ac1bd0c455b5f2ca654" title="Vrátí kopii objektu.">LFunctionM::copy</a>() {
<a name="l00279"></a>00279     <a class="code" href="classLFunctionM.html" title="Lispovské makro.">LFunctionM</a> * newone = <span class="keyword">new</span> <a class="code" href="classLFunctionM.html" title="Lispovské makro.">LFunctionM</a>;
<a name="l00280"></a>00280 
<a name="l00281"></a>00281     newone-&gt;<a class="code" href="classLFunctionM.html#aa6113fbebc9872bc595f418d87a7a40b" title="tělo makra">funct</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classLList.html" title="Seznam - linked list.">LList</a>*<span class="keyword">&gt;</span> (this-&gt;<a class="code" href="classLFunctionM.html#aa6113fbebc9872bc595f418d87a7a40b" title="tělo makra">funct</a>-&gt;<a class="code" href="classLList.html#a8e3ed6f2bcc1677465e1502a5080777d" title="Vrátí kopii objektu.">copy</a>());
<a name="l00282"></a>00282     newone-&gt;<a class="code" href="classLFunctionM.html#a8bf54e9b636256a53f54db5a57e90093" title="seznam parametrů">params</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classLList.html" title="Seznam - linked list.">LList</a>*<span class="keyword">&gt;</span> (this-&gt;<a class="code" href="classLFunctionM.html#a8bf54e9b636256a53f54db5a57e90093" title="seznam parametrů">params</a>-&gt;<a class="code" href="classLList.html#a8e3ed6f2bcc1677465e1502a5080777d" title="Vrátí kopii objektu.">copy</a>());
<a name="l00283"></a>00283 
<a name="l00284"></a>00284     <span class="keywordflow">return</span> newone;
<a name="l00285"></a>00285 }
<a name="l00286"></a>00286 
<a name="l00287"></a><a class="code" href="classLFunctionM.html#a10385264569e9ea32dc1cdd03ac2dc7f">00287</a> <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * <a class="code" href="classLFunctionM.html#a10385264569e9ea32dc1cdd03ac2dc7f">LFunctionM::call</a>(<a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * params, <a class="code" href="classEnviroment.html" title="Enviroment - prostředí ve kterém se provádí kód.">Enviroment</a> * env) {
<a name="l00288"></a>00288     <span class="keywordtype">int</span> given, declared;
<a name="l00289"></a>00289     <span class="keywordflow">if</span> (params)
<a name="l00290"></a>00290         given = params-&gt;<a class="code" href="classLList.html#a281b13e061f48af488551a41ec5f010e" title="vrátí délku seznamu">len</a>();
<a name="l00291"></a>00291     <span class="keywordflow">else</span>
<a name="l00292"></a>00292         given = 0;
<a name="l00293"></a>00293 
<a name="l00294"></a>00294     <span class="keywordflow">if</span> (this-&gt;params)
<a name="l00295"></a>00295         declared = this-&gt;params-&gt;<a class="code" href="classLList.html#a281b13e061f48af488551a41ec5f010e" title="vrátí délku seznamu">len</a>();
<a name="l00296"></a>00296     <span class="keywordflow">else</span>
<a name="l00297"></a>00297         declared = 0;
<a name="l00298"></a>00298 
<a name="l00299"></a>00299     <span class="keywordflow">if</span> (given != declared) {
<a name="l00300"></a>00300         <a class="code" href="classTypeException.html" title="vyjímka pro špatně použité datové typy (počet a typ parametrů primitivních...">TypeException</a> e;
<a name="l00301"></a>00301         e.<a class="code" href="classBaseException.html#ac970c7f195710ce512a2b05da04bc01a" title="Informace pro chybovou hlášku.">desc</a> = <a class="code" href="exceptions_8cpp.html#ac1bbbde46f1f9525fe56fcea6221c8ef">strformat</a>(<span class="stringliteral">&quot;Bad number of parametres: %d given, %d expected&quot;</span>, given, declared);
<a name="l00302"></a>00302         <span class="keywordflow">throw</span> e;
<a name="l00303"></a>00303     }
<a name="l00304"></a>00304 
<a name="l00305"></a>00305     <a class="code" href="classEnviroment.html" title="Enviroment - prostředí ve kterém se provádí kód.">Enviroment</a> newEnv(*env);
<a name="l00306"></a>00306 
<a name="l00307"></a>00307     <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * DeclaredParam = this-&gt;params;
<a name="l00308"></a>00308     <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * GivenParam = params;
<a name="l00309"></a>00309 
<a name="l00310"></a>00310     <span class="keywordflow">if</span> (GivenParam) {
<a name="l00311"></a>00311         <span class="keywordflow">while</span> (DeclaredParam) { <span class="comment">// dosazení skutečných parametrů za deklarované</span>
<a name="l00312"></a>00312             <a class="code" href="classLSymbol.html" title="Třída pro symboly (názvy proměnných a funkcí).">LSymbol</a> * p = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classLSymbol.html" title="Třída pro symboly (názvy proměnných a funkcí).">LSymbol</a>*<span class="keyword">&gt;</span> (DeclaredParam-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a>);
<a name="l00313"></a>00313             newEnv.<a class="code" href="classEnviroment.html#a631bda8576bb09df76103b14fd1971e0" title="definuje symbol (proměnou)">define</a>(p-&gt;<a class="code" href="classLSymbol.html#a5ccf8649d3d196db4fc61f8c86809d4d" title="název symbolu (obsah je definován v Enviroment-&amp;gt;symbols)">name</a>, GivenParam-&gt;<a class="code" href="classLList.html#ac223806da9faa250ccf0dfcc221ddc86" title="obsah tohoto prvku">car</a>);
<a name="l00314"></a>00314             <span class="comment">//        cout &lt;&lt; &quot;p: &quot; &lt;&lt; p-&gt;name &lt;&lt; &quot; &quot; &lt;&lt; GivenParam-&gt;car-&gt;printable() &lt;&lt; endl;</span>
<a name="l00315"></a>00315             DeclaredParam = DeclaredParam-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a>;
<a name="l00316"></a>00316             GivenParam = GivenParam-&gt;<a class="code" href="classLList.html#aa5ba63f906cc7ae7ac33deefa5e8d060" title="odkaz na následující prvek">cdr</a>;
<a name="l00317"></a>00317         }
<a name="l00318"></a>00318     }
<a name="l00319"></a>00319 
<a name="l00320"></a>00320     <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * f = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classLList.html" title="Seznam - linked list.">LList</a>*<span class="keyword">&gt;</span> (this-&gt;<a class="code" href="classLFunctionM.html#aa6113fbebc9872bc595f418d87a7a40b" title="tělo makra">funct</a>-&gt;<a class="code" href="classLList.html#a8e3ed6f2bcc1677465e1502a5080777d" title="Vrátí kopii objektu.">copy</a>());
<a name="l00321"></a>00321 
<a name="l00322"></a>00322     <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * expanded = newEnv.<a class="code" href="classEnviroment.html#a97ec775af7153a1da74447ec95569052">progn</a>(f); <span class="comment">// expandované makro</span>
<a name="l00323"></a>00323     <span class="comment">//    cout &lt;&lt; &quot;expanded macro: &quot; &lt;&lt; expanded-&gt;printable() &lt;&lt; endl;</span>
<a name="l00324"></a>00324 
<a name="l00325"></a>00325     <span class="keywordflow">return</span> env-&gt;<a class="code" href="classEnviroment.html#a179d601741bf3628c4591343c1314f6f">eval</a>(expanded);
<a name="l00326"></a>00326 }
<a name="l00327"></a>00327 
<a name="l00328"></a>00328 
<a name="l00329"></a>00329 <span class="comment">// **************************     LBool      **************************</span>
<a name="l00330"></a>00330 
<a name="l00331"></a><a class="code" href="classLBool.html#aa2fcf7db8483a7e371499c49ea431cf7">00331</a> <a class="code" href="classLBool.html#a80051a363c8655c9d57a8a0ae6aa0806">LBool::LBool</a>(<span class="keywordtype">bool</span> val) {
<a name="l00332"></a>00332     this-&gt;val = val;
<a name="l00333"></a>00333 }
<a name="l00334"></a>00334 
<a name="l00335"></a><a class="code" href="classLBool.html#a752849307c13a9a4dba77bf5a7bd394c">00335</a> <span class="keywordtype">string</span> <a class="code" href="classLBool.html#a752849307c13a9a4dba77bf5a7bd394c">LBool::printable</a>() {
<a name="l00336"></a>00336     <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classLBool.html#aa7bf92df44fc9aacee6ab1b28bf3c542" title="vnitřní reprezentace">val</a>) {
<a name="l00337"></a>00337         <span class="keywordflow">return</span> <span class="stringliteral">&quot;True&quot;</span>;
<a name="l00338"></a>00338     } <span class="keywordflow">else</span> {
<a name="l00339"></a>00339         <span class="keywordflow">return</span> <span class="stringliteral">&quot;False&quot;</span>;
<a name="l00340"></a>00340     }
<a name="l00341"></a>00341 }
<a name="l00342"></a>00342 
<a name="l00343"></a><a class="code" href="classLBool.html#a43e0a593f9d8322c5f400aa785df7de7">00343</a> <a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a>* <a class="code" href="classLBool.html#a43e0a593f9d8322c5f400aa785df7de7" title="Vrátí kopii objektu.">LBool::copy</a>() {
<a name="l00344"></a>00344     <a class="code" href="classLBool.html" title="Datový typ pro logické hodnoty.">LBool</a> * newone = <span class="keyword">new</span> <a class="code" href="classLBool.html#a80051a363c8655c9d57a8a0ae6aa0806">LBool</a>(this-&gt;<a class="code" href="classLBool.html#aa7bf92df44fc9aacee6ab1b28bf3c542" title="vnitřní reprezentace">val</a>);
<a name="l00345"></a>00345 
<a name="l00346"></a>00346     <span class="keywordflow">return</span> newone;
<a name="l00347"></a>00347 }
<a name="l00348"></a>00348 
<a name="l00349"></a><a class="code" href="classLBool.html#a9f39042c53f16789f205ae4625fe453f">00349</a> <span class="keywordtype">string</span> <a class="code" href="classLBool.html#a9f39042c53f16789f205ae4625fe453f">LBool::whois</a>() {
<a name="l00350"></a>00350     <span class="keywordflow">return</span> <span class="stringliteral">&quot;bool&quot;</span>;
<a name="l00351"></a>00351 }
<a name="l00352"></a>00352 
<a name="l00353"></a>00353 
<a name="l00354"></a>00354 <span class="comment">// **************************     HELPERS:</span>
<a name="l00355"></a>00355 
<a name="l00356"></a><a class="code" href="datetypes_8h.html#a2e11d622a3fb225da20636d22c916cfe">00356</a> <span class="keywordtype">void</span> <a class="code" href="datetypes_8cpp.html#a2e11d622a3fb225da20636d22c916cfe">Nparams</a>(<span class="keywordtype">int</span> n, <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * params) {
<a name="l00357"></a>00357     <span class="keywordflow">if</span> (params) {
<a name="l00358"></a>00358         <span class="keywordflow">if</span> (params-&gt;<a class="code" href="classLList.html#a281b13e061f48af488551a41ec5f010e" title="vrátí délku seznamu">len</a>() == n)
<a name="l00359"></a>00359             <span class="keywordflow">return</span>;
<a name="l00360"></a>00360     } <span class="keywordflow">else</span>
<a name="l00361"></a>00361         <span class="keywordflow">if</span> (0 == n)
<a name="l00362"></a>00362         <span class="keywordflow">return</span>;
<a name="l00363"></a>00363 
<a name="l00364"></a>00364 
<a name="l00365"></a>00365     <a class="code" href="classTypeException.html" title="vyjímka pro špatně použité datové typy (počet a typ parametrů primitivních...">TypeException</a> e;
<a name="l00366"></a>00366     e.<a class="code" href="classBaseException.html#ac970c7f195710ce512a2b05da04bc01a" title="Informace pro chybovou hlášku.">desc</a> = <a class="code" href="exceptions_8cpp.html#ac1bbbde46f1f9525fe56fcea6221c8ef">strformat</a>(<span class="stringliteral">&quot;Bad number of parametres: %d given, %d expected&quot;</span>, params-&gt;<a class="code" href="classLList.html#a281b13e061f48af488551a41ec5f010e" title="vrátí délku seznamu">len</a>(), n);
<a name="l00367"></a>00367     <span class="keywordflow">throw</span> e;
<a name="l00368"></a>00368 }
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00371"></a><a class="code" href="datetypes_8h.html#ab23dbc06b9615f05808d0350b38c5bf6">00371</a> T * <a class="code" href="datetypes_8cpp.html#ab23dbc06b9615f05808d0350b38c5bf6">expect_X</a>(<a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * x, <span class="keywordtype">string</span> ident) {
<a name="l00372"></a>00372     <span class="keywordtype">string</span> type = x-&gt;<a class="code" href="classElem.html#a5c428768ded97394c9adcd82aad5da8a">whois</a>();
<a name="l00373"></a>00373 
<a name="l00374"></a>00374     <span class="keywordflow">if</span> (type == ident) {
<a name="l00375"></a>00375         <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>T*<span class="keyword">&gt;</span> (x);
<a name="l00376"></a>00376     }
<a name="l00377"></a>00377     <a class="code" href="classTypeException.html" title="vyjímka pro špatně použité datové typy (počet a typ parametrů primitivních...">TypeException</a> e;
<a name="l00378"></a>00378     e.<a class="code" href="classBaseException.html#ac970c7f195710ce512a2b05da04bc01a" title="Informace pro chybovou hlášku.">desc</a> = <a class="code" href="exceptions_8cpp.html#ac1bbbde46f1f9525fe56fcea6221c8ef">strformat</a>(<span class="stringliteral">&quot;Bad type: %s given, %s expected&quot;</span>, type.c_str(), ident.c_str());
<a name="l00379"></a>00379     <span class="keywordflow">throw</span> e;
<a name="l00380"></a>00380 }
<a name="l00381"></a>00381 
<a name="l00382"></a><a class="code" href="datetypes_8h.html#a049174b6ce6bed02acc4426cd8eeb2e4">00382</a> <a class="code" href="classLBool.html" title="Datový typ pro logické hodnoty.">LBool</a> * <a class="code" href="datetypes_8cpp.html#a049174b6ce6bed02acc4426cd8eeb2e4">expect_LBool</a>(<a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * x) {
<a name="l00383"></a>00383     <span class="keywordflow">return</span> expect_X&lt;LBool &gt; (x, <span class="stringliteral">&quot;bool&quot;</span>);
<a name="l00384"></a>00384 }
<a name="l00385"></a>00385 
<a name="l00386"></a><a class="code" href="datetypes_8h.html#a1762b15874f636137533329ecb59803e">00386</a> <a class="code" href="classLInt.html" title="Celočíselný datový typ.">LInt</a> * <a class="code" href="datetypes_8cpp.html#a1762b15874f636137533329ecb59803e">expect_LInt</a>(<a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * x) {
<a name="l00387"></a>00387     <span class="keywordflow">return</span> expect_X&lt;LInt &gt; (x, <span class="stringliteral">&quot;int&quot;</span>);
<a name="l00388"></a>00388 }
<a name="l00389"></a>00389 
<a name="l00390"></a><a class="code" href="datetypes_8h.html#a97d7a2aa4cf8a9778faf16e28fdf0d14">00390</a> <a class="code" href="classLList.html" title="Seznam - linked list.">LList</a> * <a class="code" href="datetypes_8cpp.html#a97d7a2aa4cf8a9778faf16e28fdf0d14">expect_LList</a>(<a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * x) {
<a name="l00391"></a>00391     <span class="keywordflow">return</span> expect_X&lt;LList &gt; (x, <span class="stringliteral">&quot;list&quot;</span>);
<a name="l00392"></a>00392 }
<a name="l00393"></a>00393 
<a name="l00394"></a><a class="code" href="datetypes_8h.html#a3e27de89d06b2438ca9d12127bae11c7">00394</a> <a class="code" href="classLString.html" title="Datový typ pro řetězce.">LString</a> * <a class="code" href="datetypes_8cpp.html#a3e27de89d06b2438ca9d12127bae11c7">expect_LString</a>(<a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * x) {
<a name="l00395"></a>00395     <span class="keywordflow">return</span> expect_X&lt;LString &gt; (x, <span class="stringliteral">&quot;string&quot;</span>);
<a name="l00396"></a>00396 }
<a name="l00397"></a>00397 
<a name="l00398"></a><a class="code" href="datetypes_8h.html#a15add30f222cd5e51aafd1530b833c8f">00398</a> <a class="code" href="classLSymbol.html" title="Třída pro symboly (názvy proměnných a funkcí).">LSymbol</a> * <a class="code" href="datetypes_8cpp.html#a15add30f222cd5e51aafd1530b833c8f">expect_LSymbol</a>(<a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * x) {
<a name="l00399"></a>00399     <span class="keywordflow">return</span> expect_X&lt;LSymbol &gt; (x, <span class="stringliteral">&quot;symbol&quot;</span>);
<a name="l00400"></a>00400 }
<a name="l00401"></a>00401 
<a name="l00402"></a>00402 <span class="comment">//LFunction * expect_Lfunction(Elem * x) {</span>
<a name="l00403"></a>00403 <span class="comment">//    return expect_X&lt;LFunction &gt; (x, &quot;function&quot;);</span>
<a name="l00404"></a>00404 <span class="comment">//}</span>
<a name="l00405"></a>00405 
<a name="l00406"></a><a class="code" href="datetypes_8h.html#a8509590afaf308b7857b34681a2614f9">00406</a> <a class="code" href="classLFunctionC.html" title="Primitivní funkce (v C).">LFunctionC</a> * <a class="code" href="datetypes_8cpp.html#a8509590afaf308b7857b34681a2614f9">expect_LfunctionC</a>(<a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * x) {
<a name="l00407"></a>00407     <span class="keywordflow">return</span> expect_X&lt;LFunctionC &gt; (x, <span class="stringliteral">&quot;functionC&quot;</span>);
<a name="l00408"></a>00408 }
<a name="l00409"></a>00409 
<a name="l00410"></a><a class="code" href="datetypes_8h.html#aab20696d4026f12303835fb9504c3f00">00410</a> <a class="code" href="classLFunctionL.html" title="Lispovská funkce.">LFunctionL</a> * <a class="code" href="datetypes_8cpp.html#aab20696d4026f12303835fb9504c3f00">expect_LfunctionL</a>(<a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * x) {
<a name="l00411"></a>00411     <span class="keywordflow">return</span> expect_X&lt;LFunctionL &gt; (x, <span class="stringliteral">&quot;functionL&quot;</span>);
<a name="l00412"></a>00412 }
<a name="l00413"></a>00413 
<a name="l00414"></a><a class="code" href="datetypes_8h.html#aac736f2baeed828206bc689f08130f10">00414</a> <a class="code" href="classLFunctionM.html" title="Lispovské makro.">LFunctionM</a> * <a class="code" href="datetypes_8cpp.html#aac736f2baeed828206bc689f08130f10">expect_LfunctionM</a>(<a class="code" href="classElem.html" title="Abstraktní prataťka všech datových typů.">Elem</a> * x) {
<a name="l00415"></a>00415     <span class="keywordflow">return</span> expect_X&lt;LFunctionM &gt; (x, <span class="stringliteral">&quot;functionM&quot;</span>);
<a name="l00416"></a>00416 }
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Tue May 24 16:12:17 2011 for Lisp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
